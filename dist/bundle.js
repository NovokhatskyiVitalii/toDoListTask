(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(()=>{const t=document.querySelector("#form"),e=document.querySelector("#task-input"),n=document.querySelector("#task-list");document.querySelector("#empty-list");let o=[];function s(){if(0===o.length){const t='<li class="list-group-item">\n            <div id="empty-list" class="empty-text">To-do list is empty</div>\n        </li>';n.insertAdjacentHTML("afterbegin",t)}if(o.length>0){const t=document.querySelector("#empty-list");t&&t.remove()}}function i(){localStorage.setItem("tasks",JSON.stringify(o))}localStorage.getItem("tasks")&&(o=JSON.parse(localStorage.getItem("tasks"))),o.forEach((t=>{const e=t.done?"task-title done":"task-title",o=`\n        <li id="${t.id}" class="list-group-item">\n                <span class="${e}">${t.text}</span>\n            <div>\n                <button type="button" data-action="done" class="btn-done item-buttons">Done</button>\n                <button type="button" data-action="delete" class="btn-delete item-buttons">Delete</button>\n            </div>\n        </li>`;n.insertAdjacentHTML("beforeend",o)})),s(),t.addEventListener("submit",(function(t){t.preventDefault();const a=e.value,d={id:Date.now(),text:a,done:!1};o.push(d),i();const l=`\n        <li id="${d.id}" class="list-group-item">\n                <span class="${d.done?"task-title done":"task-title"}">${d.text}</span>\n            <div>\n                <button type="button" data-action="done" class="btn-done item-buttons">Done</button>\n                <button type="button" data-action="delete" class="btn-delete item-buttons">Delete</button>\n            </div>\n        </li>`;n.insertAdjacentHTML("beforeend",l),e.value="",e.focus(),s()})),n.addEventListener("click",(function(t){if("delete"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id);o=o.filter((t=>t.id!==n)),i(),e.remove(),s()})),n.addEventListener("click",(function(t){if("done"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id),s=o.find((t=>t.id===n));s.done=!s.done,i(),e.querySelector(".task-title").classList.toggle("done")}))})()}))})();
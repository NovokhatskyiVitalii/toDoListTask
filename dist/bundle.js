(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(()=>{const t=document.querySelector("#form"),e=document.querySelector("#task-input"),n=document.querySelector("#task-list");document.querySelector("#empty-list");let o=[];function i(){if(0===o.length){const t='<li class="list-group-item">\n            <div id="empty-list" class="empty-text">To-do list is empty</div>\n        </li>';n.insertAdjacentHTML("afterbegin",t)}if(o.length>0){const t=document.querySelector("#empty-list");t&&t.remove()}}function s(){localStorage.setItem("tasks",JSON.stringify(o))}function a(t){const e=t.done?"task-title done":"task-title",o=`\n        <li id="${t.id}" class="list-group-item">\n                <span class="${e}">${t.text}</span>\n            <div>\n                <button type="button" data-action="done" class="btn-done item-buttons">Done</button>\n                <button type="button" data-action="delete" class="btn-delete item-buttons">Delete</button>\n            </div>\n        </li>`;n.insertAdjacentHTML("beforeend",o)}localStorage.getItem("tasks")&&(o=JSON.parse(localStorage.getItem("tasks")),o.forEach((t=>a(t)))),i(),t.addEventListener("submit",(function(t){t.preventDefault();const n=e.value,l={id:Date.now(),text:n,done:!1};o.push(l),s(),a(l),e.value="",e.focus(),i()})),n.addEventListener("click",(function(t){if("delete"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id);o=o.filter((t=>t.id!==n)),s(),e.remove(),i()})),n.addEventListener("click",(function(t){if("done"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id),i=o.find((t=>t.id===n));i.done=!i.done,s(),e.querySelector(".task-title").classList.toggle("done")}))})()}))})();